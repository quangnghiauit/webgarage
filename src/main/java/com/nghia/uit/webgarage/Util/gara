Drop database if exists `GARA`;
CREATE SCHEMA `GARA`;	
#drop SCHEMA GARA;
USE `GARA`;

Drop table if exists `car`;
Drop table if exists `users`;
Drop table if exists `material`;
Drop table if exists `revenue`;
Drop table if exists `repairInvoice`;
Drop table if exists `detailRepairInvoice`;
Drop table if exists `inventoryReport`;


create table `car`
(
	`id` int(10) not null auto_increment primary key,
    `licensePlate` varchar(10),
    `userID` long,
    `status` int(11) default'0',
    `carBrand` varchar(100)
);


#drop table `car`;

create table `users`
(
	`id` int(10) not null auto_increment primary key,
    `userID` long not null,
    `userName` varchar(64) ,
    `displayname` varchar(100) ,
    `password` varchar(64) ,
    `isactive` int(11) default'1',
    `status` int(11) default'0',
    `createdDate` timestamp,
    `createdBy` varchar(100),
    `updatedDate` varchar(100),
    `updatedBy` varchar(100),
    `phoneNumber` varchar(20),
    `address` varchar(1000),
    `email` varchar(50),
    `debt` long    
);

create table `material` 
(
	`id` int(10) not null auto_increment primary key,
    `materialID` varchar(20),
    `materialName` varchar(100),
    `price` long,
    `mateNum` int,
    `numInput` int,
    `reqDate` timestamp
);


create table `revenue`
(
	`id` int(10) not null auto_increment primary key,
    `revenueID` long,
    `reqDate` date,
    `licensePlate` varchar(10),
    `reqNumber` int,
    `totalMoney` long,
    `repairInvoiceID` varchar(64)
    
);

create table `repairInvoice`
(
	`id` int(10) not null auto_increment primary key,
    `repairInvoiceID` varchar(64),
    `licensePlate` varchar(10),
    `status` int(11) default'0',
    `createdDate` timestamp,
    `createdBy` varchar(100),
    `regDate` varchar(100),
    `regBy` varchar(100),
    `userID` long,
    `totalMoney` long
);

create table `detailRepairInvoice`
(
	`id` int(10) not null auto_increment primary key,
    `repairInvoiceID` varchar(64),
    `infoInvoice` varchar(1000),
    `materialID` varchar(20),
    `reqNum` int,
    `createdDate` timestamp,
    `createdBy` varchar(100)       
);

create table `inventoryReport`
(
	`id` int(10) not null auto_increment primary key,
    `invReportID` long,
    `reqDate` date,
    `materialID` varchar(20),
    `initInv` int,
    `invInput` int,
    `lastInv` int
);

create table `user_role`
(
`id` int(10) not null auto_increment primary key,
	`username` varchar(64) not null ,
    `role` varchar(64) not null
);

create table `roles`
(
`id` int(10) not null auto_increment primary key,
	`role` varchar(128) not null,
    `allow` varchar(128),
    `deni` varchar(128) 
);
